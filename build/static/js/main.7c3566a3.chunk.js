(this["webpackJsonpredux-products"]=this["webpackJsonpredux-products"]||[]).push([[0],{131:function(e,t,n){},180:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(56),o=n.n(c),i=(n(131),n(180),n(303)),s=n(17),l=n(13),u=n.n(l),d=n(18),j=n(21),b=n.n(j),p=n(76),O=n.n(p),m=O.a.create({baseURL:"http://localhost:4000/"}),h=function(e){e?m.defaults.headers.common["x-auth-token"]=e:delete m.defaults.headers.common["x-auth-token"]},x=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"snkfpkhq","https://api.cloudinary.com/v1_1/do5yybhwe/image/upload",(n=new FormData).append("file",t),n.append("upload_preset","snkfpkhq"),e.next=7,O.a.post("https://api.cloudinary.com/v1_1/do5yybhwe/image/upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 7:return a=e.sent,e.abrupt("return",a.data.secure_url);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f="ADD_PRODUCT",g="ADD_PRODUCT_SUCCESS",v="ADD_PRODUCT_ERROR",y="DOWNLOAD_PRODUCTS_START",w="DOWNLOAD_PRODUCTS_SUCCESS",_="DOWNLOAD_PRODUCTS_ERROR",C="GET_DELETE_PRODUCT",S="DELETE_PRODUCT_SUCCESS",E="DELETE_PRODUCT_ERROR",T="GET_EDIT_PRODUCT",k="EDIT_PRODUCT_START",N="EDIT_PRODUCT_SUCCESS",D="EDIT_PRODUCT_ERROR",R="GET_SEARCH_RESULTS_START",U="GET_SEARCH_RESULTS_SUCCESS",P="GET_SEARCH_RESULTS_ERROR",A="SHOW_ALERT",I="HIDDEB_ALERT",B="DOWNLOAD_REQUEST_START",q="DOWNLOAD_REQUEST_SUCCESS",L="DOWNLOAD_REQUEST_ERROR",F="EDIT_REQUEST_START",z="EDIT_REQUEST_SUCCESS",W="EDIT_REQUEST_ERROR",G="AUTH_COMPANY_START",M="AUTH_COMPANY_SUCCESS",Y="AUTH_COMPANY_ERROR",H="GET_COMPANY_START",Q="GET_COMPANY_SUCCESS",X="GET_COMPANY_ERROR",$="LOGOUT";var V=function(){return{type:f,payload:!0}},Z=function(e){return{type:g,payload:e}},J=function(e){return{type:v,payload:e}};var K=function(){return{type:y,payload:!0}},ee=function(e){return{type:w,payload:e}},te=function(e){return{type:_,payload:e}};var ne=function(e){return{type:C,payload:e}},ae=function(e){return{type:E,payload:e}},re=function(){return{type:S}};var ce=function(e){return{type:T,payload:e}};var oe=function(e){return{type:k,payload:e}},ie=function(e){return{type:N,payload:e}},se=function(e){return{type:D,payload:e}};function le(e){return function(t){try{t(ue(e))}catch(n){t(de(!0))}}}var ue=function(e){return{type:U,payload:e}},de=function(e){return{type:P,payload:e}},je=n(274),be=n(275),pe=n(293),Oe=n(290),me=n(295),he=n(26),xe=n(4),fe=n(8),ge=n(11),ve=n(269),ye=n(299),we=n(288),_e=n(300),Ce=n(301),Se=n(292),Ee=n(104),Te=n.n(Ee),ke=n(97),Ne=n.n(ke),De=n(20),Re=n(147),Ue=n.n(Re);function Pe(e){return function(t){t(Ae(e)),setTimeout((function(){t(Ie(null))}),2500)}}var Ae=function(e){return{type:A,payload:e}},Ie=function(e){return{type:I,payload:e}};var Be=function(){return{type:G}},qe=function(e){return{type:M,payload:e}},Le=function(e){return{type:Y,payload:e}};function Fe(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&h(e),t.prev=1,n(ze()),t.next=5,m.get("/api/auth/company");case 5:200==(a=t.sent).status&&n(We(a.data)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),n(Ge(!0));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}var ze=function(e,t){return{type:H,payload:{token:e,company:t}}},We=function(e){return{type:Q,payload:e}},Ge=function(e){return{type:X,payload:e}};var Me=function(){return{type:$}},Ye=n(0);function He(){var e=Object(s.b)(),t=Object(De.g)(),n=a.useState({top:!1,left:!1}),r=Object(ge.a)(n,2),c=r[0],o=r[1],i=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&o(Object(fe.a)(Object(fe.a)({},c),{},Object(xe.a)({},e,t)))}},l="left";return Object(Ye.jsxs)("div",{children:[Object(Ye.jsx)(Oe.a,{color:"light",onClick:i(l,!0),children:Object(Ye.jsx)(Ue.a,{})}),Object(Ye.jsx)(Se.a,{sx:{zIndex:function(e){return e.zIndex.drawer+2}},anchor:l,open:c.left,onClose:i(l,!1),onOpen:i(l,!0),children:function(n){return Object(Ye.jsx)(ve.a,{sx:{width:"top"===n||"bottom"===n?"auto":250},role:"presentation",onClick:i(n,!1),onKeyDown:i(n,!1),children:Object(Ye.jsxs)(ye.a,{children:[Object(Ye.jsx)(he.c,{to:"/orders",children:Object(Ye.jsxs)(we.a,{button:!0,children:[Object(Ye.jsx)(_e.a,{children:Object(Ye.jsx)(Ne.a,{})}),Object(Ye.jsx)(Ce.a,{primary:"Orders"})]})}),Object(Ye.jsx)(he.c,{to:"/products",children:Object(Ye.jsxs)(we.a,{button:!0,children:[Object(Ye.jsx)(_e.a,{children:Object(Ye.jsx)(Te.a,{})}),Object(Ye.jsx)(Ce.a,{primary:"Products"})]})}),Object(Ye.jsx)(he.c,{to:"/customization/sales-summary",children:Object(Ye.jsxs)(we.a,{button:!0,children:[Object(Ye.jsx)(_e.a,{children:Object(Ye.jsx)(Te.a,{})}),Object(Ye.jsx)(Ce.a,{primary:"Summary of sales"})]})}),Object(Ye.jsx)(he.c,{exact:!0,to:"/customization",children:Object(Ye.jsxs)(we.a,{button:!0,children:[Object(Ye.jsx)(_e.a,{children:Object(Ye.jsx)(Te.a,{})}),Object(Ye.jsx)(Ce.a,{primary:"Customatization"})]})}),Object(Ye.jsx)(we.a,{children:Object(Ye.jsx)(Oe.a,{onClick:function(){e((function(e){e(Me())})),t.push("/login")},children:"Log out"})})]})})}(l)})]})}var Qe,Xe=n(273),$e=function(){var e=(Object(s.c)((function(e){return e.auth.company}))||"").companyName;return Object(Ye.jsx)(Xe.a,{color:"dark.main",sx:{backgroundColor:"dark.main"},children:Object(Ye.jsx)("header",{children:Object(Ye.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:Object(Ye.jsx)(i.a,{children:Object(Ye.jsxs)(pe.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Ye.jsx)(pe.a,{item:!0,justifyContent:"flex-start",children:Object(Ye.jsx)(he.b,{to:"/products",children:Object(Ye.jsx)("h1",{className:"text-light",children:e})})}),Object(Ye.jsxs)(pe.a,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[Object(Ye.jsx)(he.b,{to:"/product/new",children:Object(Ye.jsxs)(Oe.a,{color:"light",children:[Object(Ye.jsx)(je.a,{}),Object(Ye.jsx)(me.a,{children:"Product"})]})}),Object(Ye.jsx)(Oe.a,{color:"light",children:Object(Ye.jsx)(be.a,{})}),Object(Ye.jsx)(He,{})]})]})})})})})},Ve=function(e,t){var n=Number(e);return e<=0?"Free":"".concat(t," ").concat(n.toFixed(2))},Ze=n(277),Je=n(278),Ke=n(276),et=n(304),tt=function(e){var t=e.singleProduct,n=Object(s.b)(),a=Object(De.g)(),r=t.productname,c=t.price,o=t._id,i=t.img,l=function(){var e;n((e=t,function(t){t(ce(e))})),a.push("/product/edit/".concat(o))},j=function(){b.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ne(e)),t.prev=1,t.next=4,m.delete("/api/products/".concat(e));case 4:n(re()),b.a.fire("Deleted!","Your product has been deleted.","success"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(ae(!0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(o))}))};return Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("td",{children:i?Object(Ye.jsx)("img",{className:"img-view",loading:"lazy",src:i,alt:r}):Object(Ye.jsx)("img",{width:"60px",height:"60px",className:"img-fluid",src:"https://res.cloudinary.com/do5yybhwe/image/upload/v1634941979/nophoto-removebg-preview-min_ve6bfv.png",alt:r})}),Object(Ye.jsx)("td",{children:r}),Object(Ye.jsx)("td",{children:Object(Ye.jsxs)(Ke.a,{direction:"column",spacing:3,children:[Object(Ye.jsx)("span",{children:Ve(c,"$")}),Object(Ye.jsxs)(Ke.a,{direction:"row",children:[Object(Ye.jsx)(et.a,{onClick:function(){return l()},children:Object(Ye.jsx)(Ze.a,{color:"dark"})}),Object(Ye.jsx)(et.a,{color:"error",onClick:j,children:Object(Ye.jsx)(Je.a,{})})]})]})})]})},nt=n(302),at=n(35),rt=n(305),ct=n(149),ot=n.n(ct),it=n(150),st=n.n(it),lt=function(e){var t=e.products,n=Object(s.b)(),r=Object(a.useState)(!1),c=Object(ge.a)(r,2),o=(c[0],c[1],Object(a.useState)("")),l=Object(ge.a)(o,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){""===u&&n(le(null))}),[u,d]),Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(i.a,{id:"search-bar",sx:{padding:"20px"},className:"search-bar",children:Object(Ye.jsxs)(nt.a,{component:"form",onSubmit:function(e){return e.preventDefault()},sx:{p:"2px 4px",display:"flex",alignItems:"center",margin:"0 auto",bgcolor:"#f7f7f9"},children:[Object(Ye.jsx)(at.c,{sx:{ml:1,flex:1},value:u,placeholder:"Search by products",onChange:function(e){d(e.target.value);var a=t.map((function(e){return-1!==e.productname.toLowerCase().indexOf(u.toLowerCase())?e:null})).filter((function(e){return null!==e})).filter((function(e){return null!==e}));n(le(a)),""===u&&n(le(null))},inputProps:{"aria-label":"search"}}),u.length>0?Object(Ye.jsx)(et.a,{onClick:function(){return d("")},children:Object(Ye.jsx)(ot.a,{})}):null,Object(Ye.jsx)(rt.a,{sx:{height:28,m:.5},orientation:"vertical"}),Object(Ye.jsx)(et.a,{type:"submit",sx:{p:.5},"aria-label":"search",children:Object(Ye.jsx)(st.a,{})})]})})})},ut=function(){var e=Object(s.b)();Object(a.useEffect)((function(){e(function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K()),e.prev=1,e.next=4,m.get("/api/products");case 4:n=e.sent,t(ee(n.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(te(!0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(s.c)((function(e){return e.products})),n=t.products,r=t.error,c=t.searchResults;return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)($e,{}),Object(Ye.jsxs)(i.a,{sx:{paddingY:"1.5rem"},maxWidth:"md",children:[Object(Ye.jsx)("h3",{className:"text-center",children:"Listado de productos"}),Object(Ye.jsx)(lt,{products:n}),r?Object(Ye.jsx)("div",{className:"alert alert-danger mb-2",role:"alert",children:"There was an error loading products"}):null,Object(Ye.jsxs)("div",{className:"table-responsive",children:[c?Object(Ye.jsxs)("table",{className:"table table-striped",children:[Object(Ye.jsx)("thead",{className:"bg-primary table-dark",children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{scope:"col",children:"Image:"}),Object(Ye.jsx)("th",{scope:"col",children:"Name:"}),Object(Ye.jsx)("th",{scope:"col",children:"Price:"})]})}),Object(Ye.jsx)("tbody",{children:c.map((function(e){return Object(Ye.jsx)(tt,{singleProduct:e},e._id)}))})]}):Object(Ye.jsxs)("table",{className:"table table-striped",children:[Object(Ye.jsx)("thead",{className:"bg-primary table-dark",children:Object(Ye.jsxs)("tr",{children:[Object(Ye.jsx)("th",{scope:"col",children:"Image:"}),Object(Ye.jsx)("th",{scope:"col",children:"Name:"}),Object(Ye.jsx)("th",{scope:"col",children:"Price:"})]})}),Object(Ye.jsx)("tbody",{children:n.map((function(e){return Object(Ye.jsx)(tt,{singleProduct:e},e._id)}))})]}),null!==c&c<1?Object(Ye.jsx)("div",{className:"alert ",children:Object(Ye.jsx)("p",{className:"text-danger text-center",children:"No results"})}):null]})]})]})},dt=n(16),jt=n(99),bt=n(72),pt=n(101),Ot=function(e){var t=e.width,n=e.height,a=pt.a.div(Qe||(Qe=Object(bt.a)(["\nborder-radius: 50%;\nwidth: ",";\nheight:  ",";\n&:after {\n  border-radius: 50%;\n  width: 10em;\n  height: 10em;\n}\n  margin: 60px auto;\n  font-size: 10px;\n  position: relative;\n  text-indent: -9999em;\n  border-top: 1.1em solid rgba(0,0,0, 0.2);\n  border-right: 1.1em solid rgba(0,0,0, 0.2);\n  border-bottom: 1.1em solid rgba(0,0,0, 0.2);\n  border-left: 1.1em solid #83C5BE;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation: load8 1s infinite linear;\n  animation: load8 1s infinite ease-out;\n}\n@-webkit-keyframes load8 {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@keyframes load8 {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n"])),(function(e){return e.width||"11rem"}),(function(e){return e.height||"11rem"}));return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(Xe.a,{sx:{position:"fixed",top:"50%",left:"50%",width:"100%",transform:"translate(-50%, -50%)",bgcolor:"transparent"},children:Object(Ye.jsx)(a,{width:t,height:n})})})},mt=n(152),ht=n.n(mt),xt=n(286),ft=n(306),gt=n(98),vt=n.n(gt),yt=n(279),wt=n(102),_t=n(151),Ct=["onChange"],St=function(e){var t=e.onChange,n=Object(wt.a)(e,Ct);return Object(Ye.jsx)(_t.a,Object(fe.a)(Object(fe.a)({},n),{},{onValueChange:function(n){t({target:{name:e.name,value:n.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"$"}))},Et=function(e){var t=e.history,n=Object(s.b)(),r=Object(a.useState)(""),c=Object(ge.a)(r,2),o=c[0],i=c[1],l=Object(a.useState)({img_html:"",image_to_Upload:""}),j=Object(ge.a)(l,2),p=j[0],O=j[1],h=Object(a.useState)(""),f=Object(ge.a)(h,2),g=f[0],v=f[1],y=Object(s.c)((function(e){return e.products})),w=y.loading,_=y.error,C=Object(s.c)((function(e){return e.auth.company})),S=C._id,E=C.categories,T=Object(s.c)((function(e){return e.alert.alert})),k=p.img_html,N=p.image_to_Upload,D=function(e){return n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(V()),t.prev=1,a=e.image_to_Upload,t.next=5,x(a).then((function(t){e.img=t,delete e.image_to_Upload,m.post("/api/products",e),b.a.fire({title:"Producto agregado correctamente!",icon:"success",timer:2e3,timerProgressBar:!0}),n(Z(e))}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(J(!0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))},R=Object(jt.a)(),U=R.register,P=R.handleSubmit,A=(R.watch,R.formState.errors),I=function(){var e=Object(d.a)(u.a.mark((function e(a,r){var c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c=a.productname,o=a.price,""!==N){e.next=7;break}n(Pe({txt:"the image is required",class:"alert text-danger text-center text-uppercase p-3"})),e.next=10;break;case 7:return e.next=9,D({productname:c,price:Number(o),image_to_Upload:N,company:S,category:g});case 9:t.push("/products");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("div",{className:"navbar navbar-expand-lg navbar-light bg-dark",children:Object(Ye.jsx)("div",{className:"container",children:Object(Ye.jsx)(he.b,{className:"navbar-brand white",to:"/products",children:Object(Ye.jsx)(ht.a,{color:"warning",fontSize:"large"})})})}),Object(Ye.jsx)("div",{className:"container",children:Object(Ye.jsx)("div",{className:"card",children:Object(Ye.jsxs)("div",{className:"card-body",children:[Object(Ye.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Add new product"}),w?Object(Ye.jsx)(Ot,{}):null,_?Object(Ye.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:"There was a mistake"}):null,Object(Ye.jsxs)("form",{onSubmit:P(I),children:[Object(Ye.jsxs)("div",{className:"form-group",children:[Object(Ye.jsx)(xt.a,Object(fe.a)(Object(fe.a)({id:"filled-basic",label:"Name",variant:"filled"},U("productname",{required:!0})),{},{helperText:"required",error:A.productname})),Object(Ye.jsx)(xt.a,Object(fe.a)(Object(fe.a)({id:"filled-basic",label:"Price",variant:"filled"},U("price",{required:!0})),{},{value:o,placeholder:"$",onChange:function(e){return i(e.target.value)},helperText:"required",error:A.price,InputProps:{inputComponent:St}}))]}),Object(Ye.jsxs)("div",{className:"form-group my-3",children:[Object(Ye.jsx)("legend",{children:"Imagen:"}),Object(Ye.jsxs)(pe.a,{paddingBottom:2,children:[Object(Ye.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(Ye.jsx)(ft.a,{sx:{display:"none"},onChange:function(e){e.target.files[0]?new vt.a(e.target.files[0],{quality:.6,success:function(t){O(Object(fe.a)(Object(fe.a)({},p),{},{img_html:URL.createObjectURL(e.target.files[0]),image_to_Upload:t}))},error:function(e){console.log(e.message)}}):O({img_html:"",image_to_Upload:""})},accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(Ye.jsx)(Oe.a,{endIcon:Object(Ye.jsx)(yt.a,{}),variant:"contained",component:"span",children:"Upload"})]}),null!=T?Object(Ye.jsx)("div",{className:T.class,role:"alert",children:T.txt}):null]}),Object(Ye.jsx)("div",{className:"image-drop",children:k?Object(Ye.jsx)("img",{className:"img-fluid",src:k,alt:"product-show"}):null})]}),Object(Ye.jsxs)("div",{className:"form-group my-3",children:[Object(Ye.jsx)("label",{children:"Categoria:"}),Object(Ye.jsxs)("select",{onChange:function(e){"new"===e.target.value?(v(""),b.a.fire({icon:"info",showCancelButton:!0,input:"text",text:"Ingrese el nombre de la nueva categoria",confirmButtonText:"listo",cancelButtonText:"Cancelar"}).then((function(t){var a=[];if(t.isConfirmed&&""!==t.value){var r=t.value.toLowerCase().trim();v(r),a.push.apply(a,Object(dt.a)(E).concat([r])),m.put("/api/companies/",{categories:a}).then((function(){n(Fe()),v(""),b.a.fire({position:"top-end",icon:"success",title:"Categoria creada",text:"Fue agregada a tu lista!",showConfirmButton:!1,timer:2e3})}))}e.target.value=""}))):v(e.target.value)},className:"form-control",children:[Object(Ye.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Seleccione"}),Object(Ye.jsx)("option",{value:"new",children:"-- Crear nueva categoria -- "}),E.map((function(e){return Object(Ye.jsx)("option",{value:e,children:e.toUpperCase()})}))]})]}),Object(Ye.jsx)(pe.a,{container:!0,justifyContent:"center",children:Object(Ye.jsx)(Oe.a,{disabled:w,type:"submit",variant:"contained",color:"info",sx:{padding:"10px 40px"},children:"add"})})]})]})})})]})},Tt=n(280),kt=function(){var e=Object(s.b)(),t=Object(De.g)(),n=function(t){return e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a,r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n(oe(e)),a=e.image,r=a.image_to_Upload,c=a.img_html,!r){t.next=9;break}return t.next=6,x(r);case 6:e.img=t.sent,t.next=10;break;case 9:e.img=c;case 10:return delete e.image,t.next=13,m.put("/api/products/".concat(e._id),e);case 13:o=t.sent,n(ie(o.data)),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0),n(se(!0));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()}(t))},r=Object(jt.a)(),c=r.register,o=r.handleSubmit,i=(r.watch,r.formState.errors),l=Object(a.useState)(" "),j=Object(ge.a)(l,2),p=j[0],O=j[1],h=Object(a.useState)(0),f=Object(ge.a)(h,2),g=f[0],v=f[1],y=Object(a.useState)({img_html:"",image_to_Upload:null}),w=Object(ge.a)(y,2),_=w[0],C=w[1],S=Object(a.useState)(""),E=Object(ge.a)(S,2),T=E[0],k=E[1],N=Object(s.c)((function(e){return e.products.productEdit})),D=Object(s.c)((function(e){return e.auth.company})).categories,R=Object(s.c)((function(e){return e.alert.alert})),U=Object(s.c)((function(e){return e.products})),P=U.loading,A=U.error,I=_.img_html,B=_.image_to_Upload;Object(a.useEffect)((function(){if(null===N)return t.push("/products"),null;O(N.productname),v(N.price),C(Object(fe.a)(Object(fe.a)({},_),{},{img_html:N.img})),k(N.category)}),[N,t]),Object(a.useEffect)((function(){N&&C(Object(fe.a)(Object(fe.a)({},_),{},{img_html:N.img}))}),[""===I&&N]);var q=function(){var a=Object(d.a)(u.a.mark((function a(r,c){var o,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),""!==p&&g&&""!==I){a.next=6;break}e(Pe({txt:"all fields are required",class:"alert text-danger text-center text-uppercase p-3"})),a.next=12;break;case 6:return c.preventDefault(),o=N._id,i=N.company,s={productname:p,price:Number(g),_id:o,image:_,company:i,category:T},a.next=11,n(s);case 11:t.push("/products");case 12:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return null===N?Object(Ye.jsx)(Ot,{}):Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)($e,{}),Object(Ye.jsx)("div",{className:"container",children:Object(Ye.jsx)("div",{className:"card",children:Object(Ye.jsxs)("div",{className:"card-body",children:[Object(Ye.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Edit product"}),R?Object(Ye.jsx)("div",{className:R.class,role:"alert",children:R.txt}):null,P?Object(Ye.jsx)(Ot,{}):null,A?Object(Ye.jsx)("div",{className:"alert alert-danger mt-3",role:"alert"}):null,Object(Ye.jsxs)("form",{onSubmit:o(q),children:[Object(Ye.jsxs)("div",{className:"form-group",children:[Object(Ye.jsx)(xt.a,Object(fe.a)(Object(fe.a)({id:"filled-basic",label:"Name",variant:"filled"},c("productname",{required:!0})),{},{value:p,onChange:function(e){return O(e.target.value)},helperText:"required",error:i.productname})),Object(Ye.jsx)(xt.a,Object(fe.a)(Object(fe.a)({id:"filled-basic",label:"Price",variant:"filled"},c("price",{required:!0})),{},{value:g,onChange:function(e){return v(e.target.value)},helperText:"required",error:i.price,InputProps:{inputComponent:St}}))]}),Object(Ye.jsxs)("div",{className:"form-group my-3",children:[Object(Ye.jsx)("legend",{children:"Imagen:"}),Object(Ye.jsx)(pe.a,{paddingBottom:2,children:B?Object(Ye.jsx)(Oe.a,{onClick:function(){return C({img_html:"",image_to_Upload:null})},endIcon:Object(Ye.jsx)(Tt.a,{}),variant:"contained",component:"span",color:"error",children:"cancel"}):Object(Ye.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(Ye.jsx)(ft.a,{sx:{display:"none"},onChange:function(e){e.target.files[0]?new vt.a(e.target.files[0],{quality:.6,success:function(t){C(Object(fe.a)(Object(fe.a)({},_),{},{img_html:URL.createObjectURL(e.target.files[0]),image_to_Upload:t}))},error:function(e){console.log(e.message)}}):C({img_html:"",image_to_Upload:null})},accept:"image/*",id:"contained-button-file",multiple:!0,type:"file"}),Object(Ye.jsx)(Oe.a,{endIcon:Object(Ye.jsx)(yt.a,{}),variant:"contained",component:"span",children:"change image"})]})}),Object(Ye.jsx)("div",{className:"image-drop",children:I?Object(Ye.jsx)("img",{className:"img-fluid",src:I,alt:p}):null})]}),Object(Ye.jsxs)("div",{className:"form-group my-3",children:[Object(Ye.jsx)("label",{children:"Categoria:"}),Object(Ye.jsxs)("select",{onChange:function(t){"new"===t.target.value?(k(""),b.a.fire({icon:"info",showCancelButton:!0,input:"text",text:"Ingrese el nombre de la nueva categoria",confirmButtonText:"listo",cancelButtonText:"Cancelar"}).then((function(n){var a=[];if(n.isConfirmed&&""!==n.value){var r=n.value.toLowerCase().trim();k(r),a.push.apply(a,Object(dt.a)(D).concat([r])),m.put("/api/companies/",{categories:a}).then((function(){e(Fe()),k(""),b.a.fire({position:"top-end",icon:"success",title:"Categoria creada",text:"Fue agregada a tu lista!",showConfirmButton:!1,timer:2e3})}))}t.target.value=N.category}))):k(t.target.value)},className:"form-control",children:[Object(Ye.jsx)("option",{selected:!0,value:N.category?N.category:"",children:N.category?N.category.toUpperCase():"-- Seleccionar --"}),Object(Ye.jsx)("option",{value:"new",children:"-- Crear nueva categoria-- "}),D.map((function(e){return e!==N.category?Object(Ye.jsx)("option",{value:e,children:e.toUpperCase()}):null}))]})]}),Object(Ye.jsx)(pe.a,{container:!0,justifyContent:"center",children:Object(Ye.jsx)(Oe.a,{disabled:function(){if(N)return!(!(g==N.price&&p===N.productname&&T===N.category&&!B)&&!P)||P}(),type:"submit",variant:"contained",color:"info",sx:{padding:"10px 40px"},children:"Edit"})})]})]})})})]})};function Nt(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Dt()),e.prev=1,e.next=4,m.get("/api/requests");case 4:n=e.sent,t(Rt(n.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(Ut(!0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}var Dt=function(){return{type:B,payload:!0}},Rt=function(e){return{type:q,payload:e}},Ut=function(e){return{type:L,payload:e}};var Pt=function(e){return{type:F,payload:e}},At=function(e){return{type:z,payload:e}},It=function(e){return{type:W,payload:e}},Bt=n(48),qt=n(282),Lt=n(309),Ft=n(153),zt=n.n(Ft),Wt=n(281),Gt=n(296),Mt=n(298),Yt=n(297),Ht=Object(Ye.jsx)(ve.a,{component:"span",sx:{display:"inline-block",mx:"2px",transform:"scale(0.8)"},children:"\u2022"}),Qt=function(){var e=Object(a.useState)(null),t=Object(ge.a)(e,2),n=(t[0],t[1]),r=Object(s.c)((function(e){return e.auth.company})),c=(r._id,r.categories);return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(Zt,{children:Object(Ye.jsx)(pe.a,{gap:3,container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:c.map((function(e){return Object(Ye.jsxs)(Gt.a,{sx:{minWidth:180},children:[Object(Ye.jsx)(Yt.a,{children:Object(Ye.jsxs)(me.a,{sx:{textTransform:"capitalize"},variant:"h5",component:"div",children:[Ht,e]})}),Object(Ye.jsx)(Mt.a,{children:Object(Ye.jsx)(Oe.a,{onClick:function(){n(e)},size:"small",color:"error",children:Object(Ye.jsx)(Je.a,{})})})]})}))})})})},Xt=function(){return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)(Zt,{children:[Object(Ye.jsx)("p",{children:"my company"}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati quasi qui neque temporibus voluptatibus doloribus totam labore quae provident maiores tempora corrupti veritatis facilis odio, at cum deserunt voluptates expedita."]})})},$t=n(308),Vt=function(e){for(var t="",n=0;n<e.length;n++){var a=e[n];t+=" "===a?a="-":a}return t.toLowerCase()},Zt=function(e){var t=Object(De.g)(),n=Object(Wt.a)("(max-width:768px)")?150:240;return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)($t.a,{position:"fixed",children:Object(Ye.jsx)($e,{})}),Object(Ye.jsxs)(ve.a,{sx:{display:"flex"},children:[Object(Ye.jsx)(qt.a,{}),Object(Ye.jsxs)(Bt.a,{variant:"permanent",sx:Object(xe.a)({width:n,flexShrink:0,zIndex:5},"& .MuiDrawer-paper",{width:n,boxSizing:"border-box"}),children:[Object(Ye.jsx)(Lt.a,{sx:{height:"150px"}}),Object(Ye.jsxs)(ve.a,{sx:{overflow:"auto"},children:[Object(Ye.jsx)(ye.a,{children:["categories","my company","Sales summary","drafts"].map((function(e){return Object(Ye.jsx)(we.a,{button:!0,onClick:function(){return t.push("/customization/".concat(Vt(e)))},children:Object(Ye.jsx)(Ce.a,{primary:e})},e)}))}),Object(Ye.jsx)(rt.a,{}),Object(Ye.jsx)(ye.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(Ye.jsxs)(we.a,{button:!0,children:[Object(Ye.jsx)(_e.a,{children:t%2===0?Object(Ye.jsx)(zt.a,{}):Object(Ye.jsx)(Ne.a,{})}),Object(Ye.jsx)(Ce.a,{primary:e})]},e)}))})]})]}),Object(Ye.jsxs)(ve.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(Ye.jsx)(Lt.a,{sx:{height:"150px"}}),Object(Ye.jsx)("main",{children:e.children})]})]})]})},Jt=function(){var e=Object(s.b)(),t=Object(a.useState)(0),n=Object(ge.a)(t,2),r=n[0];n[1];return Object(a.useEffect)(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(function(){return e(Nt())})();case 2:case"end":return t.stop()}}),t)}))),[e]),Object(s.c)((function(e){return e.request})).requests?Object(Ye.jsxs)(Zt,{children:[Object(Ye.jsx)("p",{children:"Summary"}),0===r?"loading":r]}):Object(Ye.jsx)(Ot,{})},Kt=function(){return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(Qt,{})})},en=n(81),tn=n(154),nn={products:[],error:null,loading:!1,productDelete:null,productEdit:null,searchResults:null},an={alert:null},rn={requests:[],requestEdit:null,error:null,loading:!1},cn={company:null,auth:!1,token:localStorage.getItem("token"),error:null,loading:!1},on=Object(en.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0});case M:return localStorage.setItem("token",t.payload),Object(fe.a)(Object(fe.a)({},e),{},{token:t.payload,loading:!1});case X:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case Q:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,company:t.payload,auth:!0});case $:return localStorage.removeItem("token"),h(),Object(fe.a)(Object(fe.a)({},e),{},{auth:!1,token:null,company:null});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case f:case k:case R:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0});case g:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,products:[].concat(Object(dt.a)(e.products),[t.payload])});case U:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,searchResults:t.payload});case P:case _:case v:case E:case D:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case w:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:!1,products:t.payload});case C:return Object(fe.a)(Object(fe.a)({},e),{},{productDelete:t.payload});case S:return Object(fe.a)(Object(fe.a)({},e),{},{products:e.products.filter((function(t){return t._id!==e.productDelete})),productDelete:null});case T:return Object(fe.a)(Object(fe.a)({},e),{},{productEdit:t.payload});case N:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,productEdit:null,products:e.products.map((function(e){return e._id===t.payload._id?e=t.payload:e}))});default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0});case q:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:!1,requests:t.payload});case L:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:!0});case F:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!0,requestEdit:t.payload});case z:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,requestEdit:null,requests:e.requests.map((function(e){return e._id===t.payload._id?e=t.payload:e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case A:return Object(fe.a)(Object(fe.a)({},e),{},{alert:t.payload});default:return e}}}),sn=Object(en.d)(on,Object(en.c)(Object(en.a)(tn.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),ln=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://s3.amazonaws.com/dolartoday/data.json");case 2:return t=e.sent,e.abrupt("return",t.data.USD.promedio_real);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),un=n(283),dn=n(310),jn=function(e){var t=e.order,n=e.usdToBs,r=Object(s.b)(),c=function(e){return r((t=e,function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Pt(t)),e.next=4,m.put("/api/requests/".concat(t._id),t);case 4:e.sent,n(At(t)),b.a.fire({position:"top-end",icon:"success",title:"Genial",showConfirmButton:!1,timer:1500}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n(It(!0));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));var t},o=Object(a.useState)(!1),i=Object(ge.a)(o,2),l=i[0],j=i[1];return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsxs)("div",{className:"card mb-3 rounded",children:[Object(Ye.jsxs)("div",{className:"card-header ".concat(t.state?"bg-dark text-light":"bg-warning"),children:[Object(Ye.jsxs)("p",{className:"card-title",children:["De: ",t.dataBuyer.ci," ",t.dataBuyer.correo||""]}),Object(Ye.jsxs)("p",{className:"card-title",children:["Telefono: ",t.dataBuyer.tlf," ",Object(Ye.jsxs)("span",{children:["(",t.dataBuyer.banco.name,")"]})]}),Object(Ye.jsxs)(pe.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(Ye.jsxs)("p",{className:"card-text",children:["Cantidad: $",t.amount," /"," ","Bs. ".concat((t.amount*n).toFixed(2))]}),Object(Ye.jsx)(me.a,{variant:"span",children:t.state?"Completada":"Pendiente"})]}),t.state?null:Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)("button",{onClick:function(){c(Object(fe.a)(Object(fe.a)({},t),{},{state:!0}))},className:"btn bg-light",children:"Completar"}),Object(Ye.jsx)("button",{onClick:function(){b.a.fire({icon:"warning",title:"Que ha ocurrido con este pedido?",showCancelButton:!0,input:"select",inputPlaceholder:"Seleccionar",inputOptions:{problem1:"No he recibido el dinero",problem2:"Uno o mas productos dentro de la orden no se encuentran disponibles",problem3:"Devolucion del dinero",problem4:"Tengo otro problema"},text:"Para eliminar una order, primero debes elegir la razon por la cual se va eliminar",confirmButtonText:"Siguiente",cancelButtonText:"Cancelar"}).then((function(e){"problem4"===e.value?b.a.fire({input:"textarea",inputLabel:"Message",inputPlaceholder:"Type your message here...",inputAttributes:{"aria-label":"Type your message here"},showCancelButton:!0}).then((function(e){e.isConfirmed&&b.a.fire({title:"En breve ser\xe1 confirmado!",icon:"info"})})):e.isConfirmed&&b.a.fire({title:"Ahora envianos un capture como comprobante",icon:"warning",input:"file",text:"Debe coincidir con la fecha y hora de este pedido",showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar"}).then((function(e){e.isConfirmed&&b.a.fire({title:"En breve ser\xe1 confirmado!",icon:"info"})}))}))},className:"btn bg-danger text-white",children:"Eliminar"})]})]}),Object(Ye.jsx)("div",{className:"card-body",children:Object(Ye.jsx)("div",{className:"card-text",children:Object(Ye.jsxs)("ul",{className:"list-group",children:[Object(Ye.jsxs)(un.a,{onClick:function(){j(!l)},children:[Object(Ye.jsxs)(Ce.a,{component:"p",children:[" ",l?"Cerrar carrito":"Mostrar carrito"]}),l?Object(Ye.jsx)("div",{children:"\u2191"}):Object(Ye.jsx)("div",{children:"\u2193"})]}),t.bag.map((function(e){return Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)(dn.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(Ye.jsx)(ye.a,{component:"div",disablePadding:!0,children:Object(Ye.jsxs)(un.a,{sx:{pl:4,cursor:"default"},children:[Object(Ye.jsx)(me.a,{component:"h3",children:e.productname}),Object(Ye.jsx)(Ce.a,{primary:"$".concat(e.price),className:"d-flex justify-content-end"})]})})})})}))]})})})]})})},bn={zIndex:10,position:"fixed",top:"50%",left:"50%",width:"100%",transform:"translate(-50%, -50%)",bgcolor:"transparent"},pn=function(){var e=Object(a.useState)(null),t=Object(ge.a)(e,2),n=t[0],r=t[1],c=Object(s.b)();Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){return c(Nt())})(),ln().then((function(e){return r(e)}));case 3:case"end":return e.stop()}}),e)}))),[c]);var o=Object(s.c)((function(e){return e.request})),i=o.requests,l=o.loading;return Object(Ye.jsxs)(Ye.Fragment,{children:[l?Object(Ye.jsx)(Xe.a,{sx:bn,children:Object(Ye.jsx)(Ot,{})}):null,0!==i.length?i.map((function(e){return Object(Ye.jsx)(jn,{order:e,usdToBs:n},e._id)})):null]})},On=function(){return Object(Ye.jsxs)(Ye.Fragment,{children:[Object(Ye.jsx)($e,{}),Object(Ye.jsxs)(i.a,{sx:{paddingY:"1.5rem"},maxWidth:"md",children:[Object(Ye.jsx)("h2",{children:"Orders"}),Object(Ye.jsx)(pn,{})]})]})},mn=n(307),hn=n(289),xn=n(294),fn=n(311),gn=n(284),vn=n(285),yn=function(){var e=Object(s.c)((function(e){return e.auth})),t=e.loading,n=(e.error,Object(s.b)()),r=function(e){return n(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Be()),t.prev=1,t.next=4,m.post("/api/auth/company",e);case 4:(a=t.sent).data.token&&n(qe(a.data.token)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),b.a.fire({title:t.t0.response.data.msg||"There was an error",icon:"info"}),n(Le(!0));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},c=Object(s.c)((function(e){return e.alert})).alert,o=Object(a.useState)({companyEmail:"",password:"",showPassword:!1}),i=Object(ge.a)(o,2),l=i[0],j=i[1],p=Object(De.g)(),O=function(e){return function(t){j(Object(fe.a)(Object(fe.a)({},l),{},Object(xe.a)({},e,t.target.value)))}},h=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!l.email||!l.password){e.next=8;break}return n={companyEmail:l.email,password:l.password},e.next=5,r(n);case 5:p.push("/products"),e.next=9;break;case 8:b.a.fire({title:"all fields are required",icon:"info"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ye.jsxs)(Ye.Fragment,{children:[null!=c?Object(Ye.jsx)("div",{className:c.class,role:"alert",children:c.txt}):null,Object(Ye.jsxs)(pe.a,{container:!0,spacing:2,children:[Object(Ye.jsx)(pe.a,{item:!0,xs:12,md:6,children:Object(Ye.jsx)(ve.a,{className:"login trapecio",children:Object(Ye.jsx)("img",{className:"img-fluid login-img",src:"https://res.cloudinary.com/do5yybhwe/image/upload/v1645209426/shops/store-g0735b5b84_1280-min_phczyl.png",alt:"login"})})}),Object(Ye.jsx)(pe.a,{item:!0,xs:12,md:6,children:Object(Ye.jsx)(pe.a,{paddingX:"5rem",container:!0,direction:"column",justifyContent:"center",alignItems:"center",height:"100%",children:Object(Ye.jsxs)("form",{onSubmit:h,children:[Object(Ye.jsxs)(pe.a,{container:!0,rowGap:2,children:[Object(Ye.jsx)("h3",{children:"Login"}),Object(Ye.jsxs)(mn.a,{fullWidth:!0,children:[Object(Ye.jsx)(hn.a,{children:"Email"}),Object(Ye.jsx)(xn.a,{label:"Email",onChange:O("email")})]}),Object(Ye.jsxs)(mn.a,{fullWidth:!0,variant:"outlined",children:[Object(Ye.jsx)(hn.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(Ye.jsx)(xn.a,{id:"outlined-adornment-password",type:l.showPassword?"text":"password",value:l.password,onChange:O("password"),endAdornment:Object(Ye.jsx)(fn.a,{position:"end",children:Object(Ye.jsx)(et.a,{"aria-label":"toggle password visibility",onClick:function(){j(Object(fe.a)(Object(fe.a)({},l),{},{showPassword:!l.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:l.showPassword?Object(Ye.jsx)(gn.a,{}):Object(Ye.jsx)(vn.a,{})})}),label:"Password"})]}),Object(Ye.jsx)(Oe.a,{variant:"contained",color:"info",type:"submit",children:"Login"})]}),t?Object(Ye.jsx)(Ot,{width:"10rem",height:"10rem"}):null]})})})]})]})},wn=n(158),_n=["component"],Cn=function(e){var t=e.component,n=Object(wt.a)(e,_n),r=Object(s.b)(),c=Object(a.useState)(!1),o=Object(ge.a)(c,2),i=o[0],l=o[1],j=localStorage.getItem("token");Object(a.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Fe(j));case 2:l(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),Object(wn.a)("http://localhost:4000").emit("notifications",{message:"Hello",username:"World"})}),[r]);var b=Object(s.c)((function(e){return e.auth})).auth;return i?Object(Ye.jsx)(De.b,Object(fe.a)(Object(fe.a)({},n),{},{render:function(e){return b?Object(Ye.jsx)(t,Object(fe.a)({},e)):Object(Ye.jsx)(De.a,{to:"/login"})}})):Object(Ye.jsx)(Ot,{})};var Sn=function(){var e=localStorage.getItem("token");return e&&h(e),Object(Ye.jsx)(he.a,{children:Object(Ye.jsx)(s.a,{store:sn,children:Object(Ye.jsxs)(De.d,{children:[Object(Ye.jsx)(De.b,{path:"/login",component:yn}),Object(Ye.jsx)(Cn,{exact:!0,path:"/products",component:ut}),Object(Ye.jsx)(Cn,{path:"/product/new",component:Et}),Object(Ye.jsx)(Cn,{path:"/product/edit/:id",component:kt}),Object(Ye.jsx)(Cn,{path:"/orders",component:On}),Object(Ye.jsx)(Cn,{exact:!0,path:"/customization",component:Kt}),Object(Ye.jsx)(Cn,{path:"/customization/categories",component:Qt}),Object(Ye.jsx)(Cn,{path:"/customization/my-company",component:Xt}),Object(Ye.jsx)(Cn,{path:"/customization/sales-summary",component:Jt}),Object(Ye.jsx)(De.b,{render:function(){return setTimeout((function(){window.location="/products"}),3e3),Object(Ye.jsx)(Ye.Fragment,{children:Object(Ye.jsx)("h2",{children:"Page not found... redirecting to home"})})}})]})})})},En=n(126),Tn=n(291),kn=Object(En.a)({palette:{primary:{main:"#98C1D9"},secondary:{main:"#3D5A80"},warning:{main:"#FFDDD2"},light:{main:"#E0FBFC"},dark:{main:"#293241"}}});o.a.render(Object(Ye.jsx)(Tn.a,{theme:kn,children:Object(Ye.jsx)(r.a.StrictMode,{children:Object(Ye.jsx)(Sn,{})})}),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.7c3566a3.chunk.js.map